"use strict";(self.webpackChunkturntable=self.webpackChunkturntable||[]).push([[792],{47568:(e,t,s)=>{var r=s(48088),a=s(79474);console.log(s.p, 's.p');const n=s.p+"turntable/static/image/black.5e8e3a97.jpg",i=s.p+"turntable/static/image/pink.c46880ed.jpg",o=s.p+"turntable/static/image/red.9445d90d.jpg",l=s.p+"turntable/static/image/flower.7048b931.jpg",m=s.p+"turntable/static/image/birthday.53b3814b.jpg",c=s.p+"turntable/static/image/samoye2.632697d8.png",d={tp_id:1,logo:"",rule:'<ol><li style="text-align: left;"><span style="color: rgb(255, 255, 255);">\u8bf7\u201c\u70b9\u51fb\u62bd\u5956\u201d\u8fdb\u884c\u8f6c\u76d8\u62bd\u5956\uff0c\u5956\u54c1\u5956\u5238\u901a\u8fc7\u4e8c\u7ef4\u7801\u8fdb\u884c\u9886\u53d6\uff1b<br></span></li><li style="text-align: left;"><span style="color: rgb(255, 255, 255);">\u5355\u4e2a\u7528\u6237\u4ec5\u53ef\u9886\u53d6\u4e00\u6b21\uff1b<br></span></li><li style="text-align: left;"><span style="color: rgb(255, 255, 255);">\u672c\u6b21\u6d3b\u52a8\u4fdd\u7559\u6700\u7ec8\u89e3\u91ca\u6743\u3002</span><br></li></ol>',awaken_img:"",lottery:[{location:1,type:1,icon:o,result_img:o,rate:10,message:"\u8981\u4e0a\u73ed\u{1f62d}\uff0c\u5403\u918b"},{location:2,type:1,icon:n,result_img:n,rate:10,message:"\u8981\u4e0a\u73ed\u{1f62d}\uff0c\u5403\u918b"},{location:3,type:1,icon:i,result_img:i,rate:10,message:"\u8981\u4e0a\u73ed\u{1f62d}\uff0c\u5403\u918b"},{location:4,type:1,icon:c,result_img:c,rate:50,message:"\u5b9d\u8d1d\u8981\u4f11\u606f\uff0c\u4e48\u4e48\u54d2"},{location:5,type:1,icon:l,result_img:l,rate:10,message:"\u8981\u4e0a\u73ed\u{1f62d}\uff0c\u5403\u918b"},{location:6,type:1,icon:m,result_img:m,rate:10,message:"\u8981\u4e0a\u73ed\u{1f62d}\uff0c\u5403\u918b"}]};var u=s(94170),g=s(14023),f=s(13274);const p=({dialog:e,onDestory:t})=>{const{show:s,title:r,resultImg:a,resultText:n,destoryTime:i}=e;return(0,f.jsxs)("div",{className:"dialog-wrap",children:[(0,f.jsx)("div",{className:s?"mask show":"mask hide"}),(0,f.jsx)(g.A,{in:s,timeout:800,classNames:"bounce-in",unmountOnExit:!0,children:(0,f.jsxs)("div",{className:"con",children:[(0,f.jsx)("h3",{className:"title",children:r}),(0,f.jsxs)("div",{className:"main",children:[(0,f.jsx)("img",{className:"img",src:a,alt:""}),(0,f.jsx)("span",{className:"text",children:n})]}),(0,f.jsxs)("button",{className:"btn",onClick:t,children:[i,"s \u8fd4\u56de\u9875\u9762"]})]})})]})},b=(0,a.memo)(p),x={"transform-css":{webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"},"transform-js":{webkitTransform:"webkitTransform",MozTransform:"MozTransform",OTransform:"OTransform",msTransform:"msTransform",transform:"transform"},transition:{WebkitTransition:"WebkitTransition",MozTransition:"MozTransition",OTransition:"OTransition",transition:"transition"},transitionend:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionend",WebkitTransition:"webkitTransitionEnd"}};function T(e){const t=document.createElement("test");for(const s in x[e])if(void 0!==t.style[s])return x[e][s]}const h=T("transform-css"),j=T("transform-js"),y=T("transition"),N=T("transitionend"),v=({turntable:e})=>{(0,a.useRef)(null);const[t,s]=(0,a.useState)({show:!1,title:"",resultImg:"",resultText:"",destoryTime:15}),[r,n]=(0,a.useState)(!1);return(0,f.jsxs)("div",{className:"turntable-wrap",children:[(0,f.jsxs)("div",{className:"turntable-bg",children:[(0,f.jsx)("div",{className:"light"}),(0,f.jsx)("div",{className:"pointer",onClick:()=>{if(!e.length)return;if(r)return;n(!0),s((e=>(0,u.A)((0,u.A)({},e),{},{show:!1})));const t=document.querySelector("#turntable"),a=100*Math.random()+1;let i=0;e.forEach((e=>{e.min=i,i+=Number(e.rate),e.max=i}));let o=e.filter((e=>a>e.min&&a<=e.max))[0];1!==Number(o.type)||o.result_img||(o=e.filter((e=>2===Number(e.type)))[0]);const l=(o.location-1)*(360/e.length),m=l+1800,c=(l/360+5).toFixed(2);t.style[j]=`rotate(${m}deg)`,t.style[y]=`${h} ${c}s ease-out`;const d=()=>{t.removeAttribute("style");const e={};1===Number(o.type)?(e.title=o.message,e.resultText="\u8981\u542c\u8bdd\u5965",e.destoryTime=5):(e.title="\u6ca1\u62bd\u4e2d",e.resultText="\u771f\u4e0d\u5de7\uff0c\u6ca1\u62bd\u4e2d\uff01",e.destoryTime=3),e.show=!0,e.resultImg=o.result_img,s(e),(e=>{const{destoryTime:t}=e;let r=t;const a=setInterval((()=>{r--,s((e=>(0,u.A)((0,u.A)({},e),{},{destoryTime:r}))),r<=0&&(clearInterval(a),s((e=>(0,u.A)((0,u.A)({},e),{},{show:!1}))))}),1e3)})(e),setTimeout((()=>{n(!1),t.removeEventListener(N,d)}),e.destoryTime)};console.log(N,"transitionend"),t.addEventListener(N,d,!1)}}),(0,f.jsx)("div",{className:"turntable",id:"turntable",children:(0,f.jsx)("ul",{className:"prize",children:e.map((e=>(0,f.jsx)("li",{children:(0,f.jsx)("img",{className:"img",src:e.icon,alt:""})},e.location)))})}),(0,f.jsx)("div",{className:"decorate1"}),(0,f.jsx)("div",{className:"decorate2"})]}),(0,f.jsx)(b,{dialog:t,onDestory:()=>{s((e=>(0,u.A)((0,u.A)({},e),{},{show:!1}))),n(!1)}})]})},w=(0,a.memo)(v),k=e=>((0,a.useEffect)((()=>{}),[]),(0,f.jsxs)("div",{className:"header-wrap",children:[(0,f.jsx)("div",{className:"con"}),";"]})),_=(0,a.memo)(k),A=()=>{const[e,t]=(0,a.useState)(!0),[s,r]=(0,a.useState)([]);return(0,a.useEffect)((()=>{setTimeout((()=>{r(d.lottery),t(!1)}),500)}),[]),console.log(s,"turntable"),e?(0,f.jsx)("div",{className:"loading",children:"\u6b63\u5728\u52aa\u529b\u52a0\u8f7d"}):(0,f.jsxs)("div",{className:"app",children:["haha",(0,f.jsx)(_,{}),(0,f.jsx)(w,{turntable:s})]})};s(85031);const E=document.getElementById("root");E&&r.createRoot(E).render((0,f.jsx)(A,{}))},7991:(e,t,s)=>{s(65801),s(84310),s(84246),s(85848),s(4835),s(42943),s(7627),s(72302),s(71277),s(84916),s(25853),s(28096),s(97409),s(98311),s(18316),s(34253),s(1134),s(45680),s(79298),s(99145),s(51104),s(34316),s(47208),s(84191),s(19424),s(53372),s(15807),s(34971),s(54332),s(78321),s(46811),s(46023),s(61142),s(35138),s(9947),s(94244),s(73738),s(76623),s(16883),s(76962),s(50213),s(19611),s(61558),s(53987),s(15421),s(26977),s(6272),s(33863),s(17176),s(52585),s(57133),s(62730),s(68598),s(51392),s(58005),s(92210),s(70944),s(83453),s(43196),s(92409),s(14870),s(85282),s(36178),s(83978),s(51727),s(93769),s(46949),s(11652),s(97899),s(59647),s(15247),s(96613),s(3173),s(18767),s(17421),s(98635),s(52374),s(76322),s(63212),s(34404),s(47238),s(96298),s(27848),s(90852),s(31008),s(45217),s(22456),s(53131),s(74976),s(93169),s(59655),s(15387),s(10916),s(2420),s(27826),s(47934),s(92482),s(92873),s(37276),s(73831),s(35034),s(18199),s(29939),s(76587),s(69893),s(90018),s(61143),s(79354),s(73933),s(91114),s(79268),s(53233),s(48472),s(33496),s(50879),s(84927),s(9468),s(74734),s(45063),s(51732),s(9148),s(46745),s(36833),s(1105),s(92096),s(8550),s(63631),s(67218),s(52261),s(86786),s(94909),s(92448),s(92351),s(33539),s(96569),s(80910),s(76416),s(72498),s(16597),s(19720),s(67880),s(52594),s(40628),s(46198),s(54271),s(716),s(59551),s(56875),s(72519),s(22402),s(99346),s(22128),s(46139),s(93757),s(77537),s(7486),s(91287),s(42936),s(13507),s(46004),s(75999),s(5768),s(16007),s(62390),s(98660),s(39039),s(80173),s(8456),s(93242),s(77693),s(29591),s(54187),s(39489),s(5843),s(49164),s(83965),s(91155),s(11030),s(70787),s(52321),s(67657),s(47647),s(95573),s(76532),s(17919),s(21548),s(6058),s(11635),s(6031),s(82053),s(86525),s(75794),s(20811),s(43924),s(4379),s(16644),s(72975),s(76723),s(89586),s(44540),s(87848),s(95660),s(49778),s(2587),s(65019),s(69348),s(29444),s(25706),s(69004),s(54927),s(41998),s(67816),s(18104),s(57485),s(99558),s(83394),s(67903),s(80969),s(77390),s(44346),s(2846),s(69192),s(83705),s(36805),s(98503),s(28725),s(93586),s(74963),s(59296),s(4563),s(13421),s(79606),s(63870),s(98211),s(24765),s(24164),s(94036),s(29628),s(57772),s(29157),s(62186),s(45056),s(79499),s(72933),s(49271),s(56873),s(2980),s(6884),s(33394),s(23),s(4908),s(12353),s(83116),s(46279),s(9590),s(77241),s(88682),s(2327),s(79649),s(60111),s(50486),s(90098),s(60689),s(74687),s(78252),s(75823),s(68952),s(26761),s(75318),s(19712),s(82693),s(49293),s(72910),s(54619),s(64566),s(96622),s(99564),s(26176),s(50420),s(48717),s(13268),s(10919),s(52357),s(39394),s(26755),s(77485),s(14269),s(98073),s(28450),s(95832),s(90441),s(90184),s(82262),s(2072),s(29270),s(31578),s(69845),s(64696),s(49571)},26348:()=>{window.__assetPrefix__=""}},e=>{var t=t=>e(e.s=t);e.O(0,[740,594,853],(()=>(t(26348),t(7991),t(47568))));e.O()}]);