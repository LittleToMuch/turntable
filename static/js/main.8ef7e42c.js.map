{"version":3,"file":"static/js/main.8ef7e42c.js","mappings":"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","sources":["webpack://turntable/./src/api/turntable.js","webpack://turntable/./src/assets/js/dom.js","webpack://turntable/./src/components/turn-table/index.tsx","webpack://turntable/./src/components/header/index.tsx","webpack://turntable/./src/App.tsx","webpack://turntable/./src/index.tsx","webpack://turntable/./node_modules/.pnpm/lib-flexible@0.3.2/node_modules/lib-flexible/flexible.js","webpack://turntable/data:text/javascript,window.__assetPrefix__ = '';"],"sourcesContent":["export default {\n  tp_id: 1,\n  logo: '',\n  rule: '<ol><li style=\"text-align: left;\"><span style=\"color: rgb(255, 255, 255);\">请“点击抽奖”进行转盘抽奖，奖品奖券通过二维码进行领取；<br></span></li><li style=\"text-align: left;\"><span style=\"color: rgb(255, 255, 255);\">单个用户仅可领取一次；<br></span></li><li style=\"text-align: left;\"><span style=\"color: rgb(255, 255, 255);\">本次活动保留最终解释权。</span><br></li></ol>', // 活动说明\n  awaken_img: '', // 唤醒图\n  lottery: [\n    {\n      location: 1, // 位置 1-6\n      type: 1, // 抽奖类型 1：活动 2：未中奖\n      icon: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg', // 转盘上的图片\n      result_img:\n        'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg', // 中奖结果图片\n      rate: 90, // 中奖概率 1-100\n    },\n    {\n      location: 2, // 位置 1-6\n      type: 2, // 抽奖类型 1：活动 2：未中奖\n      icon: '', // 转盘上的图片\n      result_img:\n        'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2027419133,3685143289&fm=26&gp=0.jpg', // 中奖结果图片\n      rate: 20, // 中奖概率 1-100\n    },\n    {\n      location: 3, // 位置 1-6\n      type: 1, // 抽奖类型 1：活动 2：未中奖\n      icon: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg', // 转盘上的图片\n      result_img:\n        'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg', // 中奖结果图片\n      rate: 20, // 中奖概率 1-100\n    },\n    {\n      location: 4, // 位置 1-6\n      type: 2, // 抽奖类型 1：活动 2：未中奖\n      icon: '', // 转盘上的图片\n      result_img:\n        'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2027419133,3685143289&fm=26&gp=0.jpg', // 中奖结果图片\n      rate: 20, // 中奖概率 1-100\n    },\n    {\n      location: 5, // 位置 1-6\n      type: 1, // 抽奖类型 1：活动 2：未中奖\n      icon: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg', // 转盘上的图片\n      result_img:\n        'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg', // 中奖结果图片\n      rate: 10, // 中奖概率 1-100\n    },\n    {\n      location: 6, // 位置 1-6\n      type: 1, // 抽奖类型 1：活动 2：未中奖\n      icon: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg', // 转盘上的图片\n      result_img:\n        'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg', // 中奖结果图片\n      rate: 10, // 中奖概率 1-100\n    },\n  ],\n};\n","// css前缀兼容处理\nconst styleMap = {\n  'transform-css': {\n    webkitTransform: '-webkit-transform',\n    MozTransform: '-moz-transform',\n    OTransform: '-o-transform',\n    msTransform: '-ms-transform',\n    transform: 'transform',\n  },\n  'transform-js': {\n    webkitTransform: 'webkitTransform',\n    MozTransform: 'MozTransform',\n    OTransform: 'OTransform',\n    msTransform: 'msTransform',\n    transform: 'transform',\n  },\n  transition: {\n    WebkitTransition: 'WebkitTransition',\n    MozTransition: 'MozTransition',\n    OTransition: 'OTransition',\n    transition: 'transition',\n  },\n  transitionend: {\n    transition: 'transitionend',\n    OTransition: 'oTransitionEnd',\n    MozTransition: 'mozTransitionend',\n    WebkitTransition: 'webkitTransitionEnd',\n  },\n};\n\nexport function prefixStyle(style) {\n  const el = document.createElement('test');\n  for (const key in styleMap[style]) {\n    if (el.style[key] !== undefined) {\n      return styleMap[style][key];\n    }\n  }\n}\n","import { TurnTableData } from '@/App';\nimport React, { FC, memo, useState } from 'react';\nimport './index.scss';\nimport Dialog from '../dialog';\nimport { prefixStyle } from '../../assets/js/dom';\n\nconst transformCss = prefixStyle('transform-css');\nconst transformJs = prefixStyle('transform-js');\nconst transition = prefixStyle('transition');\nconst transitionend = prefixStyle('transitionend');\n\ninterface ITurnTableProps {\n  turntable: TurnTableData[];\n}\n\nexport interface IDialog {\n  show: boolean;\n  title: string;\n  resultImg: string;\n  resultText: string;\n  destoryTime: number;\n}\n\nconst turntableSuccess = 1;\nconst turntableFail = 2;\n\nconst TurnTable: FC<ITurnTableProps> = ({ turntable }) => {\n  const [dialog, setDialog] = useState<IDialog>({\n    show: false,\n    title: '',\n    resultImg: '',\n    resultText: '',\n    destoryTime: 15,\n  });\n  const [isGoing, setIsGoing] = useState(false);\n\n  const gameStart = () => {\n    if (!turntable.length) {\n      return;\n    }\n    if (isGoing) {\n      return;\n    }\n    setIsGoing(true);\n    setDialog(prev => ({ ...prev, show: true }));\n    const turntableEl: HTMLDivElement = document.querySelector('#turntable')!;\n\n    // 1. 随机生成中奖结果\n    const randomNum = Math.random() * 100 + 1;\n    let count = 0;\n    turntable.forEach(item => {\n      item.min = count;\n      count += Number(item.rate);\n      item.max = count;\n    });\n    let randomRes = turntable.filter(\n      item => randomNum > item.min! && randomNum <= item.max!,\n    )[0];\n    // 若中奖没有中奖图片，则为未中奖\n    if (Number(randomRes.type) === turntableSuccess && !randomRes.result_img) {\n      randomRes = turntable.filter(\n        item => Number(item.type) === turntableFail,\n      )[0];\n    }\n\n    // 2. 计算旋转角度，多转5圈，一圈用时1秒\n    const itemDeg = (randomRes.location - 1) * (360 / turntable.length); // 第一个不用转\n    const rotate = itemDeg + 5 * 360;\n    const speed = (itemDeg / 360 + 5).toFixed(2);\n    turntableEl.style[transformJs] = `rotate(${rotate}deg)`;\n    turntableEl.style[transition] = `${transformCss} ${speed}s ease-out`;\n\n    // 3. 监听动画结束\n    const runEnd = () => {\n      turntableEl.removeAttribute('style');\n\n      // 4.显示中奖结果\n      const newDialog: Partial<IDialog> = {};\n      if (Number(randomRes.type) === turntableSuccess) {\n        newDialog.title = '中奖啦';\n        newDialog.resultText = '请扫码领取';\n        newDialog.destoryTime = 5;\n      } else {\n        newDialog.title = '没抽中';\n        newDialog.resultText = '真不巧，没抽中！';\n        newDialog.destoryTime = 3;\n      }\n      newDialog.show = true;\n      newDialog.resultImg = randomRes.result_img;\n      setDialog(newDialog as IDialog);\n      // this.refs.dialog.countDown(); // 倒计时\n\n      // 中奖结果执行结束，可重新进行抽奖操作\n      setTimeout(() => {\n        setIsGoing(false);\n        turntableEl.removeEventListener(transitionend, runEnd);\n      }, newDialog.destoryTime);\n    };\n    turntableEl.addEventListener(transitionend, runEnd, false);\n  };\n\n  return (\n    <div className=\"turntable-wrap\">\n      <div className=\"turntable-bg\">\n        <div className=\"light\" />\n        <div className=\"pointer\" onClick={gameStart} />\n        <div className=\"turntable\" id=\"turntable\">\n          <ul className=\"prize\">\n            {turntable.map(item => (\n              <li key={item.location}>\n                <img className=\"img\" src={item.icon} alt=\"\" />\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"decorate1\" />\n        <div className=\"decorate2\" />\n      </div>\n      {/* <Dialog dialog={dialog} /> */}\n    </div>\n  );\n};\n\nexport default memo(TurnTable);\n","import React, { FC, memo, useEffect } from 'react';\nimport './index.scss';\n\ninterface IHeaderProps {}\n\nconst Header: FC<IHeaderProps> = props => {\n  useEffect(() => {\n    // your code\n  }, []);\n\n  return (\n    <div className=\"header-wrap\">\n      <div className=\"con\" />;\n    </div>\n  );\n};\n\nexport default memo(Header);\n","import { useEffect, useState } from 'react';\n\nimport json from './api/turntable.js';\nimport Turntable from './components/turn-table';\nimport Header from './components/header';\n\nexport interface TurnTableData {\n  location: number;\n  type: number;\n  icon: string;\n  result_img: string;\n  rate: number; //中奖率\n  min?: number;\n  max?: number;\n}\n\nexport const App = (): JSX.Element => {\n  const [loading, setLoading] = useState(true);\n  const [turntable, setTurntable] = useState<TurnTableData[]>([]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setTurntable(json.lottery);\n      setLoading(false);\n    }, 500);\n  }, []);\n  console.log(turntable, 'turntable');\n\n  if (loading) {\n    return <div className=\"loading\">正在努力加载</div>;\n  }\n  return (\n    <div className=\"app\">\n      haha\n      <Header />\n      <Turntable turntable={turntable} />\n      {/* <Rule rule={rule}/> */}\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom/client';\nimport './index.css';\nimport { App } from './App';\nimport 'lib-flexible/flexible.js';\n\nconst rootDOM = document.getElementById('root');\n\nif (rootDOM) {\n  ReactDOM.createRoot(rootDOM).render(<App />);\n}\n","\n;(function(win, lib) {\n    var doc = win.document;\n    var docEl = doc.documentElement;\n    var metaEl = doc.querySelector('meta[name=\"viewport\"]');\n    var flexibleEl = doc.querySelector('meta[name=\"flexible\"]');\n    var dpr = 0;\n    var scale = 0;\n    var tid;\n    var flexible = lib.flexible || (lib.flexible = {});\n\n    if (metaEl) {\n        console.warn('将根据已有的meta标签来设置缩放比例');\n        var match = metaEl.getAttribute('content').match(/initial\\-scale=([\\d\\.]+)/);\n        if (match) {\n            scale = parseFloat(match[1]);\n            dpr = parseInt(1 / scale);\n        }\n    } else if (flexibleEl) {\n        var content = flexibleEl.getAttribute('content');\n        if (content) {\n            var initialDpr = content.match(/initial\\-dpr=([\\d\\.]+)/);\n            var maximumDpr = content.match(/maximum\\-dpr=([\\d\\.]+)/);\n            if (initialDpr) {\n                dpr = parseFloat(initialDpr[1]);\n                scale = parseFloat((1 / dpr).toFixed(2));\n            }\n            if (maximumDpr) {\n                dpr = parseFloat(maximumDpr[1]);\n                scale = parseFloat((1 / dpr).toFixed(2));\n            }\n        }\n    }\n\n    if (!dpr && !scale) {\n        var isAndroid = win.navigator.appVersion.match(/android/gi);\n        var isIPhone = win.navigator.appVersion.match(/iphone/gi);\n        var devicePixelRatio = win.devicePixelRatio;\n        if (isIPhone) {\n            // iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案\n            if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) {\n                dpr = 3;\n            } else if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)){\n                dpr = 2;\n            } else {\n                dpr = 1;\n            }\n        } else {\n            // 其他设备下，仍旧使用1倍的方案\n            dpr = 1;\n        }\n        scale = 1 / dpr;\n    }\n\n    docEl.setAttribute('data-dpr', dpr);\n    if (!metaEl) {\n        metaEl = doc.createElement('meta');\n        metaEl.setAttribute('name', 'viewport');\n        metaEl.setAttribute('content', 'initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');\n        if (docEl.firstElementChild) {\n            docEl.firstElementChild.appendChild(metaEl);\n        } else {\n            var wrap = doc.createElement('div');\n            wrap.appendChild(metaEl);\n            doc.write(wrap.innerHTML);\n        }\n    }\n\n    function refreshRem(){\n        var width = docEl.getBoundingClientRect().width;\n        if (width / dpr > 540) {\n            width = 540 * dpr;\n        }\n        var rem = width / 10;\n        docEl.style.fontSize = rem + 'px';\n        flexible.rem = win.rem = rem;\n    }\n\n    win.addEventListener('resize', function() {\n        clearTimeout(tid);\n        tid = setTimeout(refreshRem, 300);\n    }, false);\n    win.addEventListener('pageshow', function(e) {\n        if (e.persisted) {\n            clearTimeout(tid);\n            tid = setTimeout(refreshRem, 300);\n        }\n    }, false);\n\n    if (doc.readyState === 'complete') {\n        doc.body.style.fontSize = 12 * dpr + 'px';\n    } else {\n        doc.addEventListener('DOMContentLoaded', function(e) {\n            doc.body.style.fontSize = 12 * dpr + 'px';\n        }, false);\n    }\n\n\n    refreshRem();\n\n    flexible.dpr = win.dpr = dpr;\n    flexible.refreshRem = refreshRem;\n    flexible.rem2px = function(d) {\n        var val = parseFloat(d) * this.rem;\n        if (typeof d === 'string' && d.match(/rem$/)) {\n            val += 'px';\n        }\n        return val;\n    }\n    flexible.px2rem = function(d) {\n        var val = parseFloat(d) / this.rem;\n        if (typeof d === 'string' && d.match(/px$/)) {\n            val += 'rem';\n        }\n        return val;\n    }\n\n})(window, window['lib'] || (window['lib'] = {}));\n","window.__assetPrefix__ = '';"],"names":["location","type","icon","result_img","rate","styleMap","webkitTransform","MozTransform","OTransform","msTransform","transform","transition","WebkitTransition","MozTransition","OTransition","transitionend","prefixStyle","style","el","document","createElement","key","undefined","transformCss","transformJs","TurnTable","turntable","dialog","setDialog","useState","show","title","resultImg","resultText","destoryTime","isGoing","setIsGoing","_jsx","className","children","_jsxs","onClick","gameStart","length","prev","_objectSpread","turntableEl","querySelector","randomNum","Math","random","count","forEach","item","min","Number","max","randomRes","filter","itemDeg","rotate","speed","toFixed","runEnd","removeAttribute","newDialog","setTimeout","removeEventListener","addEventListener","id","map","src","alt","memo","Header","props","useEffect","App","loading","setLoading","setTurntable","json","console","log","Turntable","rootDOM","getElementById","ReactDOM","render","win","lib","tid","doc","docEl","documentElement","metaEl","flexibleEl","dpr","scale","flexible","warn","match","getAttribute","parseFloat","parseInt","content","initialDpr","maximumDpr","navigator","appVersion","isIPhone","devicePixelRatio","setAttribute","firstElementChild","appendChild","wrap","write","innerHTML","refreshRem","width","getBoundingClientRect","rem","fontSize","clearTimeout","e","persisted","readyState","body","rem2px","d","val","this","px2rem","window","__assetPrefix__"],"sourceRoot":""}