(self.webpackChunkturntable=self.webpackChunkturntable||[]).push([[792],{46241:(t,e,s)=>{"use strict";var n=s(48088),i=s(79474);const r=[{location:1,type:1,icon:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg",result_img:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg",rate:90},{location:2,type:2,icon:"",result_img:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2027419133,3685143289&fm=26&gp=0.jpg",rate:20},{location:3,type:1,icon:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg",result_img:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg",rate:20},{location:4,type:2,icon:"",result_img:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2027419133,3685143289&fm=26&gp=0.jpg",rate:20},{location:5,type:1,icon:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg",result_img:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg",rate:10},{location:6,type:1,icon:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1406236855,840809371&fm=26&gp=0.jpg",result_img:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4022536995,359514895&fm=26&gp=0.jpg",rate:10}];var a=s(94170);const o={"transform-css":{webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"},"transform-js":{webkitTransform:"webkitTransform",MozTransform:"MozTransform",OTransform:"OTransform",msTransform:"msTransform",transform:"transform"},transition:{WebkitTransition:"WebkitTransition",MozTransition:"MozTransition",OTransition:"OTransition",transition:"transition"},transitionend:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionend",WebkitTransition:"webkitTransitionEnd"}};function m(t){const e=document.createElement("test");for(const s in o[t])if(void 0!==e.style[s])return o[t][s]}var c=s(13274);const l=m("transform-css"),d=m("transform-js"),p=m("transition"),u=m("transitionend"),h=({turntable:t})=>{const[e,s]=(0,i.useState)({show:!1,title:"",resultImg:"",resultText:"",destoryTime:15}),[n,r]=(0,i.useState)(!1);return(0,c.jsx)("div",{className:"turntable-wrap",children:(0,c.jsxs)("div",{className:"turntable-bg",children:[(0,c.jsx)("div",{className:"light"}),(0,c.jsx)("div",{className:"pointer",onClick:()=>{if(!t.length)return;if(n)return;r(!0),s((t=>(0,a.A)((0,a.A)({},t),{},{show:!0})));const e=document.querySelector("#turntable"),i=100*Math.random()+1;let o=0;t.forEach((t=>{t.min=o,o+=Number(t.rate),t.max=o}));let m=t.filter((t=>i>t.min&&i<=t.max))[0];1!==Number(m.type)||m.result_img||(m=t.filter((t=>2===Number(t.type)))[0]);const c=(m.location-1)*(360/t.length),h=c+1800,f=(c/360+5).toFixed(2);e.style[d]=`rotate(${h}deg)`,e.style[p]=`${l} ${f}s ease-out`;const g=()=>{e.removeAttribute("style");const t={};1===Number(m.type)?(t.title="\u4e2d\u5956\u5566",t.resultText="\u8bf7\u626b\u7801\u9886\u53d6",t.destoryTime=5):(t.title="\u6ca1\u62bd\u4e2d",t.resultText="\u771f\u4e0d\u5de7\uff0c\u6ca1\u62bd\u4e2d\uff01",t.destoryTime=3),t.show=!0,t.resultImg=m.result_img,s(t),setTimeout((()=>{r(!1),e.removeEventListener(u,g)}),t.destoryTime)};e.addEventListener(u,g,!1)}}),(0,c.jsx)("div",{className:"turntable",id:"turntable",children:(0,c.jsx)("ul",{className:"prize",children:t.map((t=>(0,c.jsx)("li",{children:(0,c.jsx)("img",{className:"img",src:t.icon,alt:""})},t.location)))})}),(0,c.jsx)("div",{className:"decorate1"}),(0,c.jsx)("div",{className:"decorate2"})]})})},f=(0,i.memo)(h),g=t=>((0,i.useEffect)((()=>{}),[]),(0,c.jsxs)("div",{className:"header-wrap",children:[(0,c.jsx)("div",{className:"con"}),";"]})),b=(0,i.memo)(g),v=()=>{const[t,e]=(0,i.useState)(!0),[s,n]=(0,i.useState)([]);return(0,i.useEffect)((()=>{setTimeout((()=>{n(r),e(!1)}),500)}),[]),console.log(s,"turntable"),t?(0,c.jsx)("div",{className:"loading",children:"\u6b63\u5728\u52aa\u529b\u52a0\u8f7d"}):(0,c.jsxs)("div",{className:"app",children:["haha",(0,c.jsx)(b,{}),(0,c.jsx)(f,{turntable:s})]})};s(85031);const x=document.getElementById("root");x&&n.createRoot(x).render((0,c.jsx)(v,{}))},85031:()=>{!function(t,e){var s,n=t.document,i=n.documentElement,r=n.querySelector('meta[name="viewport"]'),a=n.querySelector('meta[name="flexible"]'),o=0,m=0,c=e.flexible||(e.flexible={});if(r){console.warn("\u5c06\u6839\u636e\u5df2\u6709\u7684meta\u6807\u7b7e\u6765\u8bbe\u7f6e\u7f29\u653e\u6bd4\u4f8b");var l=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);l&&(m=parseFloat(l[1]),o=parseInt(1/m))}else if(a){var d=a.getAttribute("content");if(d){var p=d.match(/initial\-dpr=([\d\.]+)/),u=d.match(/maximum\-dpr=([\d\.]+)/);p&&(o=parseFloat(p[1]),m=parseFloat((1/o).toFixed(2))),u&&(o=parseFloat(u[1]),m=parseFloat((1/o).toFixed(2)))}}if(!o&&!m){t.navigator.appVersion.match(/android/gi);var h=t.navigator.appVersion.match(/iphone/gi),f=t.devicePixelRatio;m=1/(o=h?f>=3&&(!o||o>=3)?3:f>=2&&(!o||o>=2)?2:1:1)}if(i.setAttribute("data-dpr",o),!r)if((r=n.createElement("meta")).setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+m+", maximum-scale="+m+", minimum-scale="+m+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(r);else{var g=n.createElement("div");g.appendChild(r),n.write(g.innerHTML)}function b(){var e=i.getBoundingClientRect().width;e/o>540&&(e=540*o);var s=e/10;i.style.fontSize=s+"px",c.rem=t.rem=s}t.addEventListener("resize",(function(){clearTimeout(s),s=setTimeout(b,300)}),!1),t.addEventListener("pageshow",(function(t){t.persisted&&(clearTimeout(s),s=setTimeout(b,300))}),!1),"complete"===n.readyState?n.body.style.fontSize=12*o+"px":n.addEventListener("DOMContentLoaded",(function(t){n.body.style.fontSize=12*o+"px"}),!1),b(),c.dpr=t.dpr=o,c.refreshRem=b,c.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},c.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))},7991:(t,e,s)=>{"use strict";s(65801),s(84310),s(84246),s(85848),s(4835),s(42943),s(7627),s(72302),s(71277),s(84916),s(25853),s(28096),s(97409),s(98311),s(18316),s(34253),s(1134),s(45680),s(79298),s(99145),s(51104),s(34316),s(47208),s(84191),s(19424),s(53372),s(15807),s(34971),s(54332),s(78321),s(46811),s(46023),s(61142),s(35138),s(9947),s(94244),s(73738),s(76623),s(16883),s(76962),s(50213),s(19611),s(61558),s(53987),s(15421),s(26977),s(6272),s(33863),s(17176),s(52585),s(57133),s(62730),s(68598),s(51392),s(58005),s(92210),s(70944),s(83453),s(43196),s(92409),s(14870),s(85282),s(36178),s(83978),s(51727),s(93769),s(46949),s(11652),s(97899),s(59647),s(15247),s(96613),s(3173),s(18767),s(17421),s(98635),s(52374),s(76322),s(63212),s(34404),s(47238),s(96298),s(27848),s(90852),s(31008),s(45217),s(22456),s(53131),s(74976),s(93169),s(59655),s(15387),s(10916),s(2420),s(27826),s(47934),s(92482),s(92873),s(37276),s(73831),s(35034),s(18199),s(29939),s(76587),s(69893),s(90018),s(61143),s(79354),s(73933),s(91114),s(79268),s(53233),s(48472),s(33496),s(50879),s(84927),s(9468),s(74734),s(45063),s(51732),s(9148),s(46745),s(36833),s(1105),s(92096),s(8550),s(63631),s(67218),s(52261),s(86786),s(94909),s(92448),s(92351),s(33539),s(96569),s(80910),s(76416),s(72498),s(16597),s(19720),s(67880),s(52594),s(40628),s(46198),s(54271),s(716),s(59551),s(56875),s(72519),s(22402),s(99346),s(22128),s(46139),s(93757),s(77537),s(7486),s(91287),s(42936),s(13507),s(46004),s(75999),s(5768),s(16007),s(62390),s(98660),s(39039),s(80173),s(8456),s(93242),s(77693),s(29591),s(54187),s(39489),s(5843),s(49164),s(83965),s(91155),s(11030),s(70787),s(52321),s(67657),s(47647),s(95573),s(76532),s(17919),s(21548),s(6058),s(11635),s(6031),s(82053),s(86525),s(75794),s(20811),s(43924),s(4379),s(16644),s(72975),s(76723),s(89586),s(44540),s(87848),s(95660),s(49778),s(2587),s(65019),s(69348),s(29444),s(25706),s(69004),s(54927),s(41998),s(67816),s(18104),s(57485),s(99558),s(83394),s(67903),s(80969),s(77390),s(44346),s(2846),s(69192),s(83705),s(36805),s(98503),s(28725),s(93586),s(74963),s(59296),s(4563),s(13421),s(79606),s(63870),s(98211),s(24765),s(24164),s(94036),s(29628),s(57772),s(29157),s(62186),s(45056),s(79499),s(72933),s(49271),s(56873),s(2980),s(6884),s(33394),s(23),s(4908),s(12353),s(83116),s(46279),s(9590),s(77241),s(88682),s(2327),s(79649),s(60111),s(50486),s(90098),s(60689),s(74687),s(78252),s(75823),s(68952),s(26761),s(75318),s(19712),s(82693),s(49293),s(72910),s(54619),s(64566),s(96622),s(99564),s(26176),s(50420),s(48717),s(13268),s(10919),s(52357),s(39394),s(26755),s(77485),s(14269),s(98073),s(28450),s(95832),s(90441),s(90184),s(82262),s(2072),s(29270),s(31578),s(69845),s(64696),s(49571)},26348:()=>{"use strict";window.__assetPrefix__=""}},t=>{var e=e=>t(t.s=e);t.O(0,[740,594],(()=>(e(26348),e(7991),e(46241))));t.O()}]);